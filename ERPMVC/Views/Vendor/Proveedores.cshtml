@model ERPMVC.Models.Vendor
@using System.Security.Claims
@{
    ClaimsPrincipal permisos = (ClaimsPrincipal)ViewData["permisos"];
}
<script>

    //console.log($.fn.jquery);

    function GetVendorId() {
        return {
            VendorId: $("#VendorId").val()

        }
    }
    /*
   */

    function BackVendor() {
        // e.preventDefault();
        //  var dataItem = this.dataItem($(e.currentTarget).closest("tr"));
        window.location.href = "@Url.Action("Index", "Vendor")";
        //update => update.Action("Update", "Purch", new { TypeAccountId = "{0}" }).Type(HttpVerbs.Put)
    }

</script>

<div class="container-fluid">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="modal-header">
                    @*<button type="button" name="btnprueba" class="close" onclick="BackVendor();"><i class="fas fa-arrow-alt-circle-left"></i></button>*@
                    <button type="button" name="btnprueba" class="close" onclick="BackVendor();">&times;</button>
                    <h4 class="modal-title">
                        Datos de Proveedores
                    </h4>
                </div>
                <br />

                <div class="row">
                    <div class="col-md-4 ">
                        <div class="form-group">
                            <label asp-for="VendorId" class="control-label" style="width: 100%;"></label>
                            <input id="VendorId" required class="form-control" style="min-width:100%;" asp-for="VendorId" disabled="disabled" />
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="VendorName" class="control-label" style="width: 100%;"></label>
                            <input type="text" id="VendorName" required class="form-control" style="min-width:100%;" asp-for="VendorName" readonly="readonly" />

                        </div>
                    </div>
                    <div class=" col-md-4">
                        <div class="form-group">
                            <label asp-for="RTN" class="control-label" style="width: 100%;"></label>
                            <input type="text" id="RTN" required class="form-control" style="min-width:100%;" asp-for="RTN" readonly="readonly" />
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class=" col-md-4">
                        <div class="form-group">
                            <label asp-for="Identidad" class="control-label" style="width: 100%;"></label>
                            <input type="text" id="Identidad" required class="form-control" style="min-width:100%;" asp-for="Identidad" readonly="readonly" />
                        </div>
                    </div>

                    <div class=" col-md-4">
                        <div class="form-group">
                            <label asp-for="Address" class="control-label" style="width: 100%;"></label>
                            <input type="text" id="Address" required class="form-control" style="min-width:100%;" asp-for="Address" readonly="readonly" />
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="CityId" class=" control-label" style="width:100%">Ciudad</label>
                            @* <input type="text" asp-for="City" name="City" class="form-control" autocomplete="off" style="width:100%" />
                            *@<kendo-dropdownlist name="CityId"
                                                  for="@Model.CityId"
                                                  filter="Kendo.Mvc.UI.FilterType.Contains"
                                                  option-label="Seleccionar Ciudad"
                                                  datatextfield="Name"
                                                  datavaluefield="Id"
                                                  style="min-width:100%;"
                                                  readonly="readonly">
                                <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                    <transport>
                                        <read url="@Url.Action("GetActivos", "City")" />
                                    </transport>
                                </datasource>
                            </kendo-dropdownlist>

                            <span asp-validation-for="CityId" class="text-danger"></span>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class=" col-md-4">
                        <div class="form-group">
                            <label asp-for="Phone" class="control-label" style="width: 100%;"></label>
                            <input type="text" id="Phone" required class="form-control" style="min-width:100%;" asp-for="Phone" readonly="readonly" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="StateId" class=" control-label" style="width:100%">Departamento</label>
                            @*<input asp-for="State" name="State" class="form-control" autocomplete="off" style="width:100%" />
                            *@<kendo-dropdownlist name="StateId"
                                                  for="@Model.StateId"
                                                  filter="Kendo.Mvc.UI.FilterType.Contains"
                                                  option-label="Seleccionar Departamento"
                                                  datatextfield="Name"
                                                  datavaluefield="Id"
                                                  style="min-width:100%;"
                                                  readonly="readonly">
                                <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                    <transport>
                                        <read url="@Url.Action("GetActivos", "State")" />
                                    </transport>
                                </datasource>
                            </kendo-dropdownlist>

                            <span asp-validation-for="StateId" class="text-danger k-invalid-msg" data-for="RTN"></span>
                        </div>

                    </div>


                </div>

                <div class="row">


                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="IdEstado" class="control-label"></label>
                            <kendo-dropdownlist name="IdEstadoCliente" style="width:100%;"
                                                for="IdEstado"
                                                id="IdEstadoCliente"
                                                filter="Kendo.Mvc.UI.FilterType.Contains"
                                                datatextfield="NombreEstado"
                                                datavaluefield="IdEstado"
                                                style="min-width:100%;"
                                                readonly="readonly">
                                <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                    <transport>
                                        <read url="@Url.Action("GetGrupoEstadoUno", "Estados")" />
                                    </transport>
                                </datasource>
                            </kendo-dropdownlist>
                        </div>
                    </div>
                    <div class="col-md-4">

                        <div class="form-group">
                            <script>
                                function GetCategoriaProveedor() {
                                    return { 'Id': 24 }
                                }
                            </script>
                            <label asp-for="IdEstadoVendorConfi" class="control-label" style="width:100%"></label>
                            <kendo-dropdownlist name="IdEstadoVendorConfi" filter="Kendo.Mvc.UI.FilterType.Contains"
                                                option-label="Seleccion la Categoria"
                                                for="@Model.IdEstadoVendorConfi"
                                                datatextfield="Nombre"
                                                datavaluefield="Id"
                                                auto-bind="true"
                                                required
                                                onchange="Dropchange();"
                                                style="width: 100%;">
                                <datasource type="DataSourceTagHelperType.WebApi" server-filtering="true">
                                    <transport>
                                        <read url="@Url.Action("GetElementoByIdConfiguracion", "ElementoConfiguracion")" data="GetCategoriaProveedor" />
                                    </transport>
                                </datasource>

                            </kendo-dropdownlist>
                            <span asp-validation-for="IdEstadoVendorConfi" class="text-danger"></span>


                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="QtyMonth" class=" control-label" style="width:100%"></label>
                            <kendo-numerictextbox name="QtyMonth"
                                                  format="n2"
                                                  min="0"
                                                  required class="control-label right bold"
                                                  style="min-width: 100%;text-align:right;padding-right: 3px"
                                                  max="999999999"
                                                  step="1"
                                                  disabled="disabled"
                                                  value="Model.QtyMonth"></kendo-numerictextbox>

                        </div>
                    </div>


                </div>


            </div>
        </div>
    </div>

</div>


<style>
    /*.modal-backdrop {

        display: none;
    }

    .modal-dialog {
        margin: 2px auto;
        z-index: 1100 !important;
    }

    .modal-open .modal {
        overflow: hidden;
    }

    .modal-body {
        overflow: auto;
        min-height:1700;
    }

    .fixed-div {
        width: 100%;
        position: fixed;
        z-index: 1051;
        background: #fff;
        box-shadow: 0 5px 20px 4px rgba(0,0,0,.1);
    }*/

    /*#tabFirmasAutorizadas .k-tabstrip ul li.k-item {
        width: 190px;
    }*/

    /*.k-tabstrip ul li.k-item, li.k-tabstrip-items {
        width: 140px;
    }


    .k-link {
        width: 185px;
    }*/
</style>
<div id="myDiv" style="display:none">
    <div class="container-fluid">



        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    @*   <div class="modal-header">
                        </div>
                        <br />
                        <div class="row" style="min-width:100%">
                    *@
                    @(Html.Kendo().TabStrip()


                                .Name("tabDetalleProveedor")

                                .Items(tabstrip =>
                                {
                                    tabstrip.Add().Text("Contactos").HtmlAttributes(new { @id = "tabContactos" })
                                    .LoadContentFrom("ContactPerson", "ContactPerson");

                                    tabstrip.Add().Text("Documentos").HtmlAttributes(new { @id = "tabDocuments" })
                                    .LoadContentFrom("VendorDocument", "VendorDocument");


                                        /*       tabstrip.Add().Text("Escritura").HtmlAttributes(new { @id = "tabEscritura" })
                                                .LoadContentFrom("EscrituraDocument", "Vendor");
                                                tabstrip.Add().Text("Apoderado Legal").HtmlAttributes(new { @id = "tabApodlegal" })
                                                .LoadContentFrom("ALDocument", "Vendor");


                                                tabstrip.Add().Text("Identidad")
                                                .LoadContentFrom(@Url.Action("IdentityDocument", "Vendor"));


                                                tabstrip.Add().Text("RTN")
                                                .LoadContentFrom(@Url.Action("RTNDocument", "Vendor"));


                                                tabstrip.Add().Text("Socios")
                                                .LoadContentFrom("PartnersDocument", "Vendor");


                                                tabstrip.Add().Text("Referencias")
                                                .LoadContentFrom(@Url.Action("ReferencesDocument", "Vendor"));

*/



                                })
                                .SelectedIndex(0)

                    )

                </div>

            </div>
        </div>
    </div>
</div>

<script>
    $('document').ready(function () {

        debugger;
        //if ($("#QtyMonth").val() > 10000) {
        document.getElementById('myDiv').style.display = 'block';

        //  $('#card').children().attr('readonly', true);
        //$("#tabDetalleProveedor").disabled = false;
        setearvalor("QtyMonth", $("#QtyMonth").val());
        console.log("Prueba para verificar");
        //}

    });
    function setearvalor(nombrenumerico, valor) {
        var numeric = $("#" + nombrenumerico).data("kendoNumericTextBox");
        numeric.value(valor);
        numeric.trigger('change');
        numeric = null;
    }
                  /*  $("#tabDetalleProveedor").click(function () {
                        debugger;
                        // alert('tabDetalleProveedor');

                        if ($("#QtyMonth").val() <= 10000) {
                            //disabled: true;
                            $("#tabDetalleProveedor").disabled;
                            //   collapsible: true;
                            //  $("#tabDetalleProveedor").disabled = false;
                            //   alert('tabDetalleProveedor');
                        }
                        else {
                            $("#tabDetalleProveedor").enabled;
                        }
                    });*/

                  /*  $("#tabDetalleProveedor").kendoTabStrip({
                        collapsible: true
                    });

                    $("#tabDetalleProveedor").width($("#tabDetalleProveedor").innerWidth());
                    */
                  //  console.log($("#tabDetalleProveedor").innerWidth());
</script>
