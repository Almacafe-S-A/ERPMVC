@model ERPMVC.DTO.VendorDTO


@{ Layout = null;
    var messages = new Dictionary<string, string>() { { "custom", "Ingrese un valor correcto." },
// {"required","Valor requerido" }
};
    var rules = new Dictionary<string, string>() { { "custom", "customFunction" } };
}

<script>

    function customFunction(input) {

        if (input.attr('name') === "VendorId" && input.val() === "0") {
            return false;
        }
       
            //dropdownlist3.selected

        // Dropchange();
      
    }
    function FindOfacId() {
        //debugger;
        $('#myModalOFACIdentity').find(':input').not(':submit').val('');
        $('#myModalOFACIdentity').modal('show');
        //  console.log($("#Identidad").val());
        // console.log(JSON.stringify(dataObject));
        // setearvalor("Identidad", identidad);
    }
    
   

    //$('#btnprueba').val("");
</script>
@*<div id="NumAccounting">
        @await Html.PartialAsync("pvwAddAccounting", new ERPMVC.DTO.AccountDTO { AccountId = 0 })
    </div>*@
<div id="divPEPSFind">
    @await Html.PartialAsync("~/Views/PEPS/PEPSFind.cshtml")
</div>

<div id="divBlackListFind">
    @await Html.PartialAsync("~/Views/BlackListCustomers/BlackListFind.cshtml")
</div>

<div id="divONULISTFind">
    @await Html.PartialAsync("~/Views/ONU/ONULISTFind.cshtml")
</div>

<div id="divOFACFind">
    @await Html.PartialAsync("~/Views/OFAC/Index.cshtml")
</div>

<div id="divOFACFindIdentity">
    @await Html.PartialAsync("~/Views/OFAC/ListOfacIdentity.cshtml")
</div>


<div id="ModalVendor" class="modal fade" role="dialog">
    <!-- Modal content-->
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" name="btnprueba" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Datos de Proveedores</h4>
            </div>
            <div class="modal-body">

                <div class="row" id="validation">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <form id="frmVendor" kendo-validator="true"
                                      data-ajax="true"
                                      data-ajax-method="post"
                                      data-ajax-begin="SaveVendor"
                                      class="validation-wizard wizard-circle">
                                    <div class="form-body">
                                        <h3 class="card-title">Proveedores</h3>
                                        <hr>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="VendorId" class=" control-label" style="width:100%"></label>
                                                    <input type="text" asp-for="VendorId" name="VendorId" class="form-control" disabled="disabled" style="width:100%" />
                                                    <span asp-validation-for="VendorId" class="text-danger"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="VendorName" class="control-label" style="width:100%"></label>
                                                    <span>
                                                        <input asp-for="VendorName" required class="form-control form-control-line" onchange="FindVendorByList();" style="min-width: 80%" />
                                                        <button type="button" onclick="return RefreshOFAC();" class="k-button k-primary"><i class="fa fa-search"></i>LISTADOS</button>

                                                    </span>
                                                    @*  <span asp-validation-for="VendorName" class="text-danger"></span>
                                                    *@
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="RTN" class=" control-label" style="width:100%"></label>
                                                    <input asp-for="RTN" name="RTN" class="form-control" autocomplete="off" style="width:100%" />
                                                    <span asp-validation-for="RTN" class="text-danger k-invalid-msg" data-for="RTN"></span>


                                                </div>

                                            </div>


                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label asp-for="VendorTypeId" class="control-label" style="width:100%"></label>
                                                    <kendo-dropdownlist name="VendorTypeId"
                                                                        for="@Model.VendorTypeId"
                                                                        filter="Kendo.Mvc.UI.FilterType.Contains"
                                                                        option-label="Seleccionar Tipo"
                                                                        datatextfield="VendorTypeName"
                                                                        datavaluefield="VendorTypeId" style="width:100%">
                                                        <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                                            <transport>
                                                                <read url="@Url.Action("GetVendorType", "VendorType")" />
                                                            </transport>
                                                        </datasource>
                                                    </kendo-dropdownlist>


                                                </div>
                                            </div>






                                        </div>
                                        <div class="row">
                                            @*  <div class="col-md-4">
            <div class="form-group">
                <label asp-for="Identidad" class=" control-label" style="width:100%"></label>
                <input type="text" asp-for="Identidad" name="Identidad" class="form-control" autocomplete="off" style="display:block" />
                <button type="button" onclick="return RefreshOFACIdentity();" class="k-button k-primary"><i class="fa fa-search"></i></button>

                  <span asp-validation-for="Identidad" class="text-danger"></span>

            </div>
        </div>*@
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="Address" class=" control-label" style="width:100%"></label>
                                                    <input type="text" asp-for="Address" name="Address" class="form-control" style="width:100%" />
                                                    <span asp-validation-for="Address" class="text-danger"></span>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="Estado" class="control-label" style="width:100%"></label>
                                                    <kendo-dropdownlist name="IdEstado"
                                                                        for="@Model.IdEstado"
                                                                        filter="Kendo.Mvc.UI.FilterType.Contains"
                                                                        option-label="Seleccionar Estado"
                                                                        datatextfield="NombreEstado"
                                                                        datavaluefield="IdEstado">
                                                        <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                                            <transport>
                                                                <read url="@Url.Action("GetGrupoEstadoUno", "Estados")" />
                                                            </transport>
                                                        </datasource>
                                                    </kendo-dropdownlist>
                                                </div>



                                            </div>

                                           



                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <script>
                                                    function refreshdepartamento() {
                                                        $("#StateId").data("kendoDropDownList").dataSource.read();
                                                    }
                                                </script>

                                                <div class="form-group">
                                                    <label asp-for="CountryId" class=" control-label" style="width:100%"></label>

                                                    <kendo-dropdownlist name="CountryId"
                                                                        for="@Model.CountryId"
                                                                        filter="Kendo.Mvc.UI.FilterType.Contains"
                                                                        option-label="Seleccionar Pais    "
                                                                        datatextfield="Name"
                                                                        datavaluefield="Id"
                                                                        required
                                                                        auto-bind="true"
                                                                        onchange="refreshdepartamento();">
                                                        <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                                            <transport>
                                                                <read url="@Url.Action("Get", "Country")" />
                                                            </transport>
                                                        </datasource>
                                                    </kendo-dropdownlist>
                                                    <span asp-validation-for="CountryId" class="text-danger"></span>


                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <script>
                                                    function GetCountryId() {

                                                        return { 'CountryId': $("#CountryId").val() }
                                                    }

                                                    function refreshmunicipio() {
                                                        $("#CityId").data("kendoDropDownList").dataSource.read();
                                                    }
                                                </script>
                                                <div class="form-group">
                                                    <label asp-for="StateId" class=" control-label" style="width:100%"></label>
                                                    @*<input asp-for="State" name="State" class="form-control" autocomplete="off" style="width:100%" />
                                                    *@<kendo-dropdownlist name="StateId"
                                                                          for="@Model.StateId"
                                                                          filter="Kendo.Mvc.UI.FilterType.Contains"
                                                                           auto-bind="true"
                                                                          option-label="Seleccionar Departamento"
                                                                            onchange="refreshmunicipio();"
                                                                         required
                                                           
                                                                          datatextfield="Name"
                                                                          datavaluefield="Id">
                                                        <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                                            <transport>
                                                                <read url="@Url.Action("Get", "State")" data="GetCountryId" />
                                                            </transport>
                                                        </datasource>
                                                    </kendo-dropdownlist>

                                                    <span asp-validation-for="StateId" class="text-danger " ></span>
                                                </div>

                                            </div>
                                            <div class="col-md-4">
                                                <script>
                                                    function GetStateId() {

                                                        return { 'StateId': $("#StateId").val() }
                                                    }
                                                </script>

                                                <div class="form-group">
                                                    <label asp-for="CityId" class=" control-label" style="width:100%"></label>
                                                    @* <input type="text" asp-for="City" name="City" class="form-control" autocomplete="off" style="width:100%" />
                                                    *@<kendo-dropdownlist name="CityId"
                                                                          for="@Model.CityId"
                                                                          filter="Kendo.Mvc.UI.FilterType.Contains"
                                                                          auto-bind="true"
                                                                          option-label="Seleccionar Ciudad"
                                                                          datatextfield="Name"
                                                                          datavaluefield="Id"
                                                                          style="width: 100%;">
                                                        <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                                            <transport>
                                                                <read url="@Url.Action("Get", "City")" data="GetStateId" />
                                                            </transport>
                                                        </datasource>
                                                    </kendo-dropdownlist>

                                                    <span asp-validation-for="CityId" class="text-danger"></span>
                                                </div>
                                            </div>



                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="CompanyReferenceone" class=" control-label" style="width:100%"></label>
                                                    <input type="text" asp-for="CompanyReferenceone" name="CompanyReferenceone" class="form-control" style="width:100%" />
                                                    @*  <span asp-validation-for="CompanyReferenceone" class="text-danger"></span>
                                                    *@
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="CompanyReferencetwo" class=" control-label" style="width:100%"></label>
                                                    <input type="text" asp-for="CompanyReferencetwo" name="CompanyReferencetwo" class="form-control" style="width:100%" />
                                                    @*     <span asp-validation-for="CompanyReferencetwo" class="text-danger"></span>
                                                    *@
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                              
                                                <div class="form-group">
                                                    <label asp-for="IdEstadoVendorConfi" class="control-label" style="width:100%"></label>
                                                    <kendo-dropdownlist name="IdEstadoVendorConfi"
                                                                        for="@Model.IdEstadoVendorConfi"
                                                                        filter="Kendo.Mvc.UI.FilterType.Contains"
                                                                        option-label="Seleccionar Estado"
                                                                        datatextfield="NombreEstado"
                                                                        datavaluefield="IdEstado"
                                                                        require
                                                                        onchange="Dropchange();">
                                                        <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                                            <transport>
                                                                <read url="@Url.Action("GetGrupoEstadoUno", "Estados")"  />
                                                            </transport>
                                                        </datasource>
                                                    </kendo-dropdownlist>


                                                </div>
                                            </div>
                                            @*
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label asp-for="QtyMin" class=" control-label" style="width:100%"></label>
                                                        <kendo-numerictextbox name="QtyMin"
                                                                              format="n2" spinners="false"
                                                                              min="0"
                                                                              required class="control-label right bold"
                                                                              style="width: 100%;text-align:right;padding-right: 3px"
                                                                              max="999999999"
                                                                              disabled="disabled"
                                                                              step="1"
                                                                              value="Model.QtyMin"></kendo-numerictextbox>
                                                        <span asp-validation-for="QtyMin" class="text-danger"></span>

                                                    </div>
                                                </div>
                                            *@
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="QtyMonth" class=" control-label" style="width:100%"></label>
                                                    <label id="LabelQtyMonth" style="width:100%"></label>
                                                    @* format="  #.00 " step="1"*@
                                                    <kendo-numerictextbox name="QtyMonth"
                                                                          format="n2"
                                                                          min="0"
                                                                          required class="control-label right bold"
                                                                          style="width: 100%;text-align:right;padding-right: 3px"
                                                                          max="999999999"
                                                                          step="1"
                                                                          disabled="disabled"
                                                                          value="Model.QtyMonth"></kendo-numerictextbox>
                                                    <span asp-validation-for="QtyMonth" class="text-danger"></span>

                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="CurrencyId" class=" control-label" style="width:100%">Moneda</label>

                                                    <kendo-dropdownlist name="CurrencyId"
                                                                        for="@Model.CurrencyId"
                                                                        filter="Kendo.Mvc.UI.FilterType.Contains"
                                                                        option-label="Seleccionar Moneda    "
                                                                        datatextfield="CurrencyName"
                                                                        datavaluefield="CurrencyId">
                                                        <datasource type="DataSourceTagHelperType.WebApi" server-operation="true">
                                                            <transport>
                                                                <read url="@Url.Action("Get", "Currency")" />
                                                            </transport>
                                                        </datasource>
                                                    </kendo-dropdownlist>
                                                    <span asp-validation-for="CurrencyId" class="text-danger"></span>


                                                </div>
                                            </div>
                                            <div class="col-md-4">

                                                <div class="form-group">
                                                    <label asp-for="Phone" class=" control-label" style="width:100%"></label>
                                                    <input type="text" asp-for="Phone" name="Phone" class="form-control" style="width:100%" />

                                                    <span asp-validation-for="Phone" class="text-danger"></span>
                                                </div>
                                            </div>



                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="RepresentativeName" class="control-label" style="width:100%"></label>
                                                    
                                                        <input asp-for="RepresentativeName"  class="form-control form-control-line" onchange="RefreshOFAC();" style="min-width: 80%" />
                                                        <button type="button" onclick="return RefreshOFAC();" class="k-button k-primary"><i class="fa fa-search"></i>LISTADOS</button>

                                                    

                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="IdentityRepresentative" class=" control-label" style="width:100%"></label>
                                                    <input type="text" asp-for="IdentityRepresentative" name="IdentityRepresentative" class="form-control" style="width:100%" />
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label asp-for="RTNRepresentative" class=" control-label" style="width:100%"></label>
                                                    <input asp-for="RTNRepresentative" name="RTNRepresentative" class="form-control" autocomplete="off" style="width:100%" />


                                                </div>

                                            </div>


                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <button id="btnVendor" class="form-control btn-miboton" type="submit"> Guardar </button>
                                            </div>
                                        </div>



                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>

    $('document').ready(function () {
       
    });
    /*$(window).on("load", function () {
        console.log("Ha ocurrido window.load: ventana lista");
        debugger;
        console.log("Entro al document ready");
        var dropdownlist = $("#CityId").data("kendoDropDownList");
        console.log($("#CityId").val() + "Valor de CityId");
        dropdownlist.select($("#CityId").val());
        var dropdownlist2 = $("#CountryId").data("kendoDropDownList");
        console.log($("#CountryId").val() + "Valor de CountryId");
        dropdownlist2.select($("#CountryId").val());
        if ($("#QtyMonth").val() <= 10000.00) {
            //$("#ProveedorMenor").data("kendoDropDownList").text() = "Activo";
            console.log($("#QtyMonth").val() + "Valor de QtyMonth");
            var dropdownlist5 = $("#ProveedorMenor").data("kendoDropDownList");//
            dropdownlist5.select(1);
        } else {
            var dropdownlist5 = $("#ProveedorMenor").data("kendoDropDownList");//
            dropdownlist5.select(2);

            // $("#ProveedorMenor").data("kendoDropDownList").text() === "Inactivo"
        }
        var dropdownlist3 = $("#CurrencyId").data("kendoDropDownList");
        console.log($("#CurrencyId").val() + "Valor de CurrencyId");

        dropdownlist3.select($("#CurrencyId").val());
        var dropdownlist4 = $("#VendorTypeId").data("kendoDropDownList");
        console.log($("#VendorTypeId").val() + "Valor de VendorTypeId");

        dropdownlist4.select($("#VendorTypeId").val());

    });
    */
    function setearvalor(nombrenumerico, valor) {
        var numeric = $("#" + nombrenumerico).data("kendoNumericTextBox");
        numeric.value(valor);
        numeric.trigger('change');
        numeric = null;
    }

    function Dropchange() {
        //debugger;
        var mensual;
        var dataObjectConfiguration = {};
        $.ajax({
                                url: '@Url.Action("GetConfigurationVendorActive", "ConfigurationVendor")',
                                method: 'GET',
                                datatype: "json",
                                contentType: 'application/json',
                                async: false,
                                data: dataObjectConfiguration,
                                success: function (result) {

                                    //notification.show({
                                    //    message: "Guardado correctamente!"
                                    //}, "upload-success");
                                    console.log(result);
                                    mensual = result.QtyMonth;
                                    console.log(mensual);

                                },
                                error: function (XMLHttpRequest, textStatus, errorThrown) {

                                    notification.show({
                                        title: "Validación",
                                        message: textStatus + ": " + XMLHttpRequest.responseText
                                    }, "error");

                                }
                            });
           
        if ($("#ProveedorMenor").data("kendoDropDownList").text() === "Activo") {
            document.getElementById('LabelQtyMonth').innerHTML = "Menor";
           // $("#LabelQtyMonth").val() = ;
           //  mensual =  10000.00;          
            setearvalor("QtyMonth", mensual);

          }
        else {
           // $("#LabelQtyMonth").val() = "Mayor";
            document.getElementById('LabelQtyMonth').innerHTML = "Mayor";

            var mensual = mensual + 0.01;

            setearvalor("QtyMonth", mensual);

          }
        };


            function RefrescarGrid() {
                debugger;
                var grid = $("#gridNumeracionVendor").getKendoGrid();
                grid.dataSource.read();
            }
    function SaveVendor(e) {

                    var notification = $("#notification").data("kendoNotification");
                   // e.preventDefault();
                debugger;
                $("#btnVendor").hide();
                $("#btnVendor").prop("disabled", true);
                RefreshOFAC();
                var validadetalle = true;

                var displayedData = $("#gridNumeracionVendor").data().kendoGrid.dataSource.view();
                var listadoenqueaparece = "";
                var gridListaOFAC = $("#gridListaOFAC").data().kendoGrid.dataSource.data();
                var gridListaPEPS = $("#gridListaPEPS").data().kendoGrid.dataSource.data();
                var gridListaNegra = $("#gridListaNegra").data().kendoGrid.dataSource.data();
                var gridListaONU = $("#gridListaONU").data().kendoGrid.dataSource.data();
                var gridListaOFACIdentity = $("#gridListaOFACIdentity").getKendoGrid().dataSource.read();

               // debugger;
                var confirmaexpecion = false;

                if (
                    gridListaPEPS.length > 0

                )
                {
                    if (confirm("¿Desea crear una excepción para este Proveedor y enviar a aprobación?, esto notificara a Gerencia")) {
                        validadetalle = true;
                        confirmaexpecion = true;
                        Estado = 'Enviada a Aprobacion'
                        listadoenqueaparece += gridListaPEPS.length > 0 ? "PEPS" : "";
                    }
                    else {
                        validadetalle = false;
                        notification.show(
                        {
                            title: "Validación",
                            message: "No puede guardar este para este Proveedor ya que aparece en los listados!"
                        }, "error");
                    }

                }
                else if (gridListaOFAC.length > 0
                    || gridListaNegra.length > 0
                    || gridListaONU.length > 0
                    ||  gridListaOFACIdentity >0
                                )
                      {
                            listadoenqueaparece += gridListaOFAC.length > 0 ? "OFAC" : "";
                            listadoenqueaparece += gridListaNegra.length > 0 ? "ListaNegra" : "";
                            listadoenqueaparece += gridListaONU.length > 0 ? "ListadoONU" : "";
                            listadoenqueaparece += gridListaOFACIdentity.length > 0 ? "OFAC IDENTITY" : "";


                            validadetalle = false;
                            // $("#btnVendor").prop("disabled", false);

                            notification.show({
                                title: "Validación",
                                message: "Esta Proveedor se muestra como estado rechazado!"
                            }, "error");

                }
                if (validadetalle) {
                    var dataObject = {
                        'VendorId': $("#VendorId").val(),
                        'VendorName': $("#VendorName").val(),
                        'VendorTypeId': $("#VendorTypeId").val(),
                        'RTN': $("#RTN").val(),
                        'CityId': $("#CityId").val(),
                        'Address': $("#Address").val(),
                        'StateId': $("#StateId").val(),
                        'CountryId': $("#CountryId").val(),
                        'IdEstadoVendorConfi': $("#IdEstadoVendorConfi").val(),
                        'EstadoVendorConfi': $("#IdEstadoVendorConfi").data("kendoDropDownList").text(),
                        'Phone': $("#Phone").val(),
                        //'Identidad': $("#Identidad").val(),
                        'Email': $("#Email").val(),
                        'CurrencyId': $("#CurrencyId").val(),
                        'IdEstado': $("#IdEstado").val(),
                        'Estado': $("#IdEstado").data("kendoDropDownList").text(),
                        'CompanyReferenceone': $("#CompanyReferenceone").val(),
                        'CompanyReferencetwo': $("#CompanyReferencetwo").val(),
                     //   'QtyMin': $("#QtyMin").val(),
                        'QtyMonth': $("#QtyMonth").val(),
                        'CreatedDate': $("#CreatedDate").val(),
                        'ModifiedDate': $("#ModifiedDate").val(),
                        'CreatedUser': $("#CreatedUser").val(),
                        'ModifiedUser': $("#ModifiedUser").val(),
                        'RepresentativeName': $("#RepresentativeName").val(),
                        'IdentityRepresentative': $("#IdentityRepresentative").val(),
                        'RTNRepresentative': $("#RTNRepresentative").val(),

                        '_Vendor': displayedData
                    };

                   // console.log(JSON.stringify(dataObject));
                    //var form = $("#frmNumeracion");
                   // form.validate();
                    var validator = $("#frmVendor").data("kendoValidator");
                    var status = $(".status");
                    if (validator.validate()) {

                            $.ajax({
                                url: '@Url.Action("SaveVendor", "Vendor")',
                                method: 'POST',
                                datatype: "json",
                                contentType: 'application/json',
                                async: false,
                                data: JSON.stringify(dataObject),
                                success: function (data) {

                                    //notification.show({
                                    //    message: "Guardado correctamente!"
                                    //}, "upload-success");
                                    $.toast({
                                        heading: 'Satisfactorio',
                                        text: '<br/><br/> Datos guardados correctamente.',
                                        position: 'top-right',
                                        loaderBg: '#ff6849',
                                        icon: 'success',
                                        hideAfter: 30000,
                                        stack: 6
                                    });

                                    RefrescarGrid();

                                    $('#ModalVendor').modal('hide');


                                },
                                error: function (XMLHttpRequest, textStatus, errorThrown) {

                                    notification.show({
                                        title: "Validación",
                                        message: textStatus + ": " + XMLHttpRequest.responseText
                                    }, "error");

                                }
                            });

                        }
                    else {
                        $("#btnVendor").show();
                        $("#btnVendor").prop("disabled", false);
                            status.text("Oops! Hay datos invalidos en el formulario.")
                                .removeClass("valid")
                                .addClass("invalid");
                        }



                } else
                {
                    $("#btnVendor").show();
                    $("#btnVendor").prop("disabled", false);

                }
    }
    function FindVendorByList() {
        RefreshOFAC();
        //  $("#btnVendor").prop("disabled", false);

    }
</script>

