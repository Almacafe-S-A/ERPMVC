@using Kendo.Mvc.UI
@{
    ViewData["Title"] = "Balance de Saldos";
}

<div style=" align-items:center; height:825px;width: 100%;">
    <ej-report-viewer id="rpvReporte" rendering-begin="renderingBegin" report-print="onPrintReport" processing-mode="Remote" print-mode="true"
           report-export="onReportExport" report-service-url="/ReportViewer" locale="es-ES" report-loaded="onReportLoaded" report-path="/ReportsTemplate/BalanceDeSaldos.rdl" />

</div>
<ej-script-manager></ej-script-manager>

<script type="text/javascript">
    function onReportLoaded(sender) {
        $("#rpvReporte_viewReportClick").val("Ver Reporte");
        var reportObj = $('#reportviewer1').data("ejReportViewer");
        //console.log('Llega al ReportLoaded');
        @* reportObj.model.parameters =[{
            name: 'SalesOrderId',
            labels: ['@Model.SalesOrderId'],
            values: ['@Model.SalesOrderId'],
            nullable: false
        }
        ];*@
    }


    function onReportExport(args) {
        //increament file name in JS      
        var _exportName = $(args.exportAction).find('#' + this._id + '_exportfileName');
        var currentDate = new Date();
        var date = currentDate.getDate();
        var month = currentDate.getMonth();
        var year = currentDate.getFullYear();
        _exportName.val('Balance de Saldos ' + date + '-' + month + '-' + year);

    }
</script>
